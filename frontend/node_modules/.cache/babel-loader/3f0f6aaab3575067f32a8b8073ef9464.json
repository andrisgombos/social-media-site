{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andri\\\\PycharmProjects\\\\12eyes\\\\12eyes_second_try\\\\frontend\\\\src\\\\components\\\\NewPostForm\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { NewPostFormContainer, TopContainer, MiddleContainer, BottomContainer, LeftBottom, RightBottom } from './style';\nimport { NewPostSend } from '../Feed/newpost/style';\nimport sendButton from \"../../assets/logos_pictures_etc/svgs/send_button.svg\"; // import uploadFile from '../../assets/logos_pictures_etc/svgs_selfmade/add_file.png';\n// import uploadPhoto from '../../assets/logos_pictures_etc/svgs_selfmade/add_photo.png'\n\nimport { useDispatch } from 'react-redux';\nimport { listPostsAction } from '../../components/store/actions/listPostsAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NewPostForm() {\n  _s();\n\n  const [postContent, setPostContent] = useState({});\n  const [postContentImg, setPostImageImg] = useState(null);\n  const token = localStorage.getItem('token');\n  const dispatch = useDispatch();\n\n  const newPostFormHandler = event => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append('images', postContentImg);\n    formData.append('content', postContent);\n    const url = \"https://motion.propulsion-home.ch/backend/api/social/posts/\";\n    const config = {\n      method: \"POST\",\n      body: formData,\n      headers: new Headers({\n        \"Authorization\": `Bearer ${token}`\n      })\n    };\n    fetch(url, config).then(res => res.json()).then(data => console.log(data));\n    dispatch(listPostsAction());\n  };\n\n  return /*#__PURE__*/_jsxDEV(NewPostFormContainer, {\n    children: [/*#__PURE__*/_jsxDEV(TopContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        cols: \"50\",\n        rows: \"10\",\n        placeholder: \"What's on your mind?\",\n        onChange: e => setPostContent(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MiddleContainer, {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"img\",\n        height: \"100px\",\n        src: postContentImg ? (window.URL || window.webkitURL).createObjectURL(postContentImg) : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BottomContainer, {\n      children: [/*#__PURE__*/_jsxDEV(LeftBottom, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => setPostImageImg(e.target.files[0]),\n          type: \"file\",\n          name: \"uploadImg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RightBottom, {\n        children: /*#__PURE__*/_jsxDEV(NewPostSend, {\n          onClick: newPostFormHandler,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: sendButton,\n            alt: \"send button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(NewPostForm, \"hMOIPZOcnZ8c5ctw/G3AczfNvcc=\", false, function () {\n  return [useDispatch];\n});\n\n_c = NewPostForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewPostForm\");","map":{"version":3,"sources":["C:/Users/andri/PycharmProjects/12eyes/12eyes_second_try/frontend/src/components/NewPostForm/index.jsx"],"names":["React","useState","NewPostFormContainer","TopContainer","MiddleContainer","BottomContainer","LeftBottom","RightBottom","NewPostSend","useDispatch","listPostsAction","NewPostForm","postContent","setPostContent","postContentImg","setPostImageImg","token","localStorage","getItem","dispatch","newPostFormHandler","event","preventDefault","formData","FormData","append","url","config","method","body","headers","Headers","fetch","then","res","json","data","console","log","e","target","value","window","URL","webkitURL","createObjectURL","files","sendButton"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport { NewPostFormContainer, TopContainer, MiddleContainer, \r\n    BottomContainer, LeftBottom, RightBottom} from './style';\r\nimport {NewPostSend} from '../Feed/newpost/style'\r\nimport sendButton from '../../assets/logos_pictures_etc/svgs/send_button.svg';\r\n// import uploadFile from '../../assets/logos_pictures_etc/svgs_selfmade/add_file.png';\r\n// import uploadPhoto from '../../assets/logos_pictures_etc/svgs_selfmade/add_photo.png'\r\nimport {useDispatch} from 'react-redux';\r\nimport {listPostsAction} from '../../components/store/actions/listPostsAction';\r\n\r\nexport default function NewPostForm() {\r\n\r\n    const [postContent, setPostContent] = useState({});\r\n    const [postContentImg, setPostImageImg] = useState(null)\r\n    const token = localStorage.getItem('token');\r\n    const dispatch = useDispatch();\r\n\r\n    const newPostFormHandler = (event) =>  {\r\n        event.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('images', postContentImg);\r\n        formData.append('content', postContent);\r\n\r\n        const url = \"https://motion.propulsion-home.ch/backend/api/social/posts/\";\r\n        const config = {\r\n            method: \"POST\",\r\n            body: formData,\r\n            headers: new Headers ({\r\n                \"Authorization\": `Bearer ${token}`\r\n            })\r\n        }\r\n        fetch(url, config)\r\n        .then(res => res.json())\r\n        .then(data => console.log(data))\r\n\r\n        dispatch(listPostsAction());\r\n    }\r\n\r\n    return (\r\n        <NewPostFormContainer >\r\n            <TopContainer>\r\n                <img alt='avatar'/>\r\n                <textarea cols='50' rows='10' \r\n                placeholder=\"What's on your mind?\"\r\n                onChange={(e) => setPostContent(e.target.value)}/>\r\n            </TopContainer>\r\n            <MiddleContainer>\r\n                <img alt='img' height='100px' src={postContentImg ?\r\n                (window.URL || window.webkitURL).createObjectURL(postContentImg) : ''}/>\r\n            </MiddleContainer>\r\n            <BottomContainer>\r\n                <LeftBottom>\r\n                    <input onChange={(e) => setPostImageImg(e.target.files[0])}type='file' name='uploadImg'></input>\r\n                    {/* <img height='16px' alt='' src={uploadPhoto}/> */}\r\n                    {/* <img height='16px' alt='' src={uploadFile}/> */}\r\n                </LeftBottom>\r\n                <RightBottom>\r\n                    <NewPostSend onClick={newPostFormHandler}><img src={sendButton} alt='send button' /></NewPostSend>\r\n                </RightBottom>\r\n            </BottomContainer>\r\n        </NewPostFormContainer>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}